<%- include('../partials/admin-header') %>

<div class="d-flex justify-content-between align-items-center mb-4">
  <h2><%= isNew ? 'Novo Link' : 'Editar Link' %></h2>
  <a href="/admin" class="btn btn-outline-secondary">
    <i class="fas fa-arrow-left"></i> Voltar
  </a>
</div>

<% if (req.query && req.query.error) { %>
  <div class="alert alert-danger" role="alert">
    <%= req.query.error %>
  </div>
<% } %>

<div class="card">
  <div class="card-body">
    <form action="<%= isNew ? '/admin/links' : `/admin/links/${link.id}?_method=PUT` %>" method="POST">
      
      <div class="mb-3">
        <label for="title" class="form-label">Título (opcional)</label>
        <input type="text" class="form-control" id="title" name="title" value="<%= link.title || '' %>" placeholder="Meu Link">
        <div class="form-text">Se não for fornecido, a URL será exibida.</div>
      </div>
      
      <div class="mb-3">
        <label for="url" class="form-label">URL</label>
        <input type="url" class="form-control" id="url" name="url" value="<%= link.url || '' %>" required placeholder="https://exemplo.com">
      </div>
      
      <div class="mb-3">
        <label for="order_index" class="form-label">Ordem</label>
        <input type="number" class="form-control" id="order_index" name="order_index" value="<%= link.order_index || 0 %>" min="0">
        <div class="form-text">Links com menor número aparecem primeiro.</div>
      </div>
      
      <div class="mb-3 form-check">
        <input type="checkbox" class="form-check-input" id="active" name="active" <%= link.active ? 'checked' : '' %>>
        <label class="form-check-label" for="active">Ativo</label>
        <div class="form-text">Desmarque para ocultar o link temporariamente.</div>
      </div>
      
      <div class="d-grid gap-2">
        <button type="submit" class="btn btn-primary">
          <%= isNew ? 'Criar Link' : 'Salvar Alterações' %>
        </button>
      </div>
      
    </form>
  </div>
</div>

<%- include('../partials/admin-footer') %>
